Main is part 1 code
